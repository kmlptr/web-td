<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Ground Control Station</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="gcs.css">
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Menu</h2>
        <ul>
            <li><a href="#" class="sidebar-item" onclick="showPage('dashboard'); setActiveSidebar(this)">Flight View</a></li>
            <li><a href="#" class="sidebar-item" onclick="showPage('preflight'); setActiveSidebar(this)">Preflight Check</a></li>
            <li><a href="#" class="sidebar-item" onclick="showPage('plan'); setActiveSidebar(this)">Plan</a></li>
            <li><a href="#" class="sidebar-item" onclick="showPage('setup'); setActiveSidebar(this)">Setup</a></li>
            <li><a href="#" class="sidebar-item" onclick="showPage('about'); setActiveSidebar(this)">About</a></li>
        </ul>
    </div>


    <div class="container">

        <!-- DASHBOARD PAGE -->
        <div id="page-dashboard" class="page">
            <h1 class="title">Ground Control Station<hr>HAWKEYE</h1>

            <!-- Connection Panel -->
            <div class="panel connection-panel">
                <div class="panel-header">
                    <h2>Connection</h2>
                </div>
                <div class="panel-content">
                    <div class="connection-controls">
                        <select id="connectionType">
                            <option value="udp">UDP</option>
                            <option value="tcp">TCP</option>
                            <option value="serial">Serial</option>
                        </select>
                        <input type="text" id="connectionAddress" placeholder="Connection string (e.g. 127.0.0.1:14550)">
                        <button id="connectBtn">Connect</button>
                    </div>
                    <div id="connectionStatus"></div>
                </div>
            </div>

            <!-- Layout Grid -->
            <div class="grid-layout">

                <!-- Map Panel -->
                <div class="panel map-panel">
                    <div class="panel-header">
                        <h2>Map</h2>
                        <button id="toggleAutoCenterBtn">Enable Auto-Center</button>
                    </div>
                    <div class="panel-content">
                        <div id="map"></div>
                    </div>
                </div>

                <!-- Video Streaming Panel -->
                <div class="panel video-panel">
                    <div class="panel-header">
                        <h2>Video Streaming</h2>
                        <button id="startCameraBtn">Start Camera</button>
                        <button id="FlashBtn">Flash</button>
                    </div>
                    <div class="panel-content">
                        <video id="cameraStream" autoplay muted playsinline></video>
                    </div>
                </div>

                <!-- Telemetry Data Panel -->
                <div class="panel telemetry-panel">
    <div class="panel-header">
        <h2>Telemetry Data</h2>
    </div>
    <div class="panel-content">
        <div class="telemetry-grid">
            <div class="telemetry-item">
                <h3>Altitude</h3>
                <div class="telemetry-value" id="altitudeValue">-- m</div>
            </div>
            <div class="telemetry-item">
                <h3>Speed</h3>
                <div class="telemetry-value" id="speedValue">-- m/s</div>
            </div>
            <div class="telemetry-item">
                <h3>Battery</h3>
                <div class="telemetry-value" id="batteryValue">-- %</div>
            </div>
            <div class="telemetry-item">
                <h3>Heading</h3>
                <div class="telemetry-value" id="headingValue">-- Â°</div>
            </div>
            <div class="telemetry-item">
                <h3>GPS</h3>
                <div class="telemetry-value" id="gpsValue">--, --</div>
            </div>
            <div class="telemetry-item">
                <h3>Status</h3>
                <div class="status-container">
                    <span id="armedStatus" class="armed-status armed-false">DISARMED</span>
                    <span id="modeStatus">MODE: --</span>
                </div>
            </div>
            

            <!-- Tambahan monitoring Motor -->
            <div class="telemetry-item">
                <h3>Motor 1</h3>
                <div class="telemetry-value" id="motor1status">-- %</div>
            </div>
            <div class="telemetry-item">
                <h3>Motor 2</h3>
                <div class="telemetry-value" id="motor2status">-- %</div>
            </div>
            <div class="telemetry-item">
                <h3>Vehicle Type</h3>
                <div class="telemetry-value" id="vehicleTypeValue">--</div>
            </div>
            <div class="telemetry-item">
                <h3>Motor 3</h3>
                <div class="telemetry-value" id="motor3status">-- %</div>
            </div>
            <div class="telemetry-item">
                <h3>Motor 4</h3>
                <div class="telemetry-value" id="motor4status">-- %</div>
            </div>
            <div class="telemetry-item">
                <h3></h3>

            </div>
            
        </div>
    </div>
</div>


                <!-- Vehicle Control Panel -->
                <div class="panel control-panel">
                    <div class="panel-header">
                        <h2>Vehicle Control</h2>
                    </div>
                    <div class="panel-content">
                        <div class="control-grid">
                            <select id="flightMode">
                                <option value="STABILIZE">STABILIZE</option>
                                <option value="ALT_HOLD">ALT_HOLD</option>
                                <option value="AUTO">AUTO</option>
                                <option value="GUIDED" selected>GUIDED</option>
                                <option value="LOITER">LOITER</option>
                                <option value="RTL">RTL</option>
                            </select>
                            <button id="setModeBtn">Set Mode</button>
                            <button id="armBtn" class="btn-danger">ARM</button>
                            <button id="takeoffBtn">Takeoff</button>
                            <button id="landBtn">Land</button>
                            <button id="roverBtn">Rover</button>
                            <button id="droneBtn">Drone</button>
                            <button id="safetySwitch" class="btn btn-danger">Safety ON</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- PREFLIGHT PAGE -->
        <div id="page-preflight" class="page" style="display:none;">            
            <h2>CHECK MOTOR</h2>
                <label style="display: flex; align-items: center; gap: 5px; margin-bottom: 10px;">
                    <input type="checkbox" id="lockAll">
                    Gerakkan Semua Motor Bersamaan
                </label>
            <div class="slider-container">
                <div class="slider-item">
                    <label for="motor1">Motor 1</label>
                    <input type="range" id="motor1" min="0" max="100" value="0" oninput="updateValue(this)">
                    <span class="value">0%</span>
                </div>
                <div class="slider-item">
                    <label for="motor2">Motor 2</label>
                    <input type="range" id="motor2" min="0" max="100" value="0" oninput="updateValue(this)">
                    <span class="value">0%</span>
                </div>
                <div class="slider-item">
                    <label for="motor3">Motor 3</label>
                    <input type="range" id="motor3" min="0" max="100" value="0" oninput="updateValue(this)">
                    <span class="value">0%</span>
                </div>
                <div class="slider-item">
                    <label for="motor4">Motor 4</label>
                    <input type="range" id="motor4" min="0" max="100" value="0" oninput="updateValue(this)">
                    <span class="value">0%</span>
                </div>
            </div>
        </div>

        <!-- PLAN PAGE -->
        <div id="page-plan" class="page" style="display:none;">
            <h1>Plan</h1>
            <p>Rencana penerbangan bisa diatur di sini...</p>
        </div>

        <!-- SETUP PAGE -->
        <div id="page-setup" class="page" style="display:none;">
            <h1>Setup</h1>
            <p>Pengaturan sistem ada di sini...</p>
        </div>

        <!-- ABOUT PAGE -->
        <div id="page-about" class="page" style="display:none;">
            <h1>About</h1>
            <p>Ground Control Station HAWKEYE v1.0 - Dibuat oleh Kamil.</p>
        </div>

    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="gcs(coba).js"></script>
</body>
</html>
